---
layout:     post
title:      Customizing tcl Altera Modelsim
date:       2015-01-30 17:45:19
summary:    Some wave to customize tcl in altera modelsim
categories: blog modelsim altera
tags: [waveform, altera, hdl]
---

Hello!

After very long time, I came back to do some HDL coding and simulating. I tried to simulating our lab source code. Since I changed laboratory last year, I cannot use older tools like Xilinx or Modelsim anymore. Due to current lab license, I have to use Altera and its modelsim version for simulating.
<!--more-->
As my best knowledge, Modelsim Altera version doesn't allow mix HDL simulation (both VHDL and verilog) and no more than 10,000 lines of code (luckily, verilog is sorter than VHDL). 

One of my new problem that Quartus GUI is so strange to me (I used to do VHDL on Xilinx ISE) and I need to investigate into sub-module. However, everytime I call modelsim it auto runs itself tcl script but I need to use customized script file.

If you running with modelsim, Altera will automatically generate a tcl file name as: 

	<design_name>_run_msim_<level>_<language>.do

Because this file is generated by Altera, therefore you cannot modify it for running (it is overwritten each time you call modelsim).

Solution for this problem is one option in Quartus. Click top design, choose setting, go to section EDA Tool, then simulation. In list of options, we have native link settings. So, there are three options: do nothing, compile one module with addtional tcl file and run customized tcl file.

 <img src="/images/2015-01-31_custom_Quartus/quartus-option-tcl.PNG" class="fit image">

The best option is just doing nothing then you can run whatever tcl script in modelsim. Moreover, you can find somes another option about linking between Quartus and Modelsim.

Thank you very much for reading this article and see you later.
